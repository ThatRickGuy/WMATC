@model WMATC.ViewModels.PublishViewModel

@{
    ViewBag.Title = "Index";
}

<style>
    div.LeftBox {
        border-radius: 10px 0px 0px 10px;
        border-bottom: 2px solid gray;
        border-left: 2px solid gray;
        border-top: 2px solid gray;
        float: left;
    }

    div.RightBox {
        border-radius: 0px 10px 10px 0px;
        border-bottom: 2px solid gray;
        border-right: 2px solid gray;
        border-top: 2px solid gray;
        float: Right;
    }

    div.WinnerBackground {
        background: #D1F1D1;
    }

    div.LoserBackground {
        background: #F1D1D1;
    }

    div.RingLeft {
        float: left;
        width: 12px;
        height: 12px;
        border-radius: 6px;
        border: 1px solid gray;
        margin-left: -10px;
        background-color: #DDDDDD;
        cursor: pointer;
    }

    div.RingRight {
        float: Right;
        width: 12px;
        height: 12px;
        border-radius: 6px;
        border: 1px solid gray;
        margin-Right: -10px;
        background-color: #DDDDDD;
        cursor: pointer;
    }

    span.ListLinkLeft {
        float: left;
        font-size: 9pt;
        margin-left: -10px;
        cursor: pointer;
    }

    span.ListLinkRight {
        float: right;
        font-size: 9pt;
        margin-right: -10px;
        cursor: pointer;
    }

    
#chevron {
  position: relative;
  text-align: center;
  padding: 1px;
  margin-bottom: 3px;
  height: 6px;
  width: 20px;
}

/* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#ad9d22+28,28d3cd+50,cccc20+50,e8e87d+100 */



#chevron:before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 51%;
border-left: 1px solid #706516;
border-top: 1px solid #706516;
border-bottom: 1px solid #706516;
background: #ad9d22; /* Old browsers */
background: -moz-linear-gradient(left,  #ad9d22 55%, #28d3cd 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(left,  #ad9d22 55%,#28d3cd 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to right,  #ad9d22 55%,#28d3cd 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ad9d22', endColorstr='#e8e87d',GradientType=1 ); /* IE6-9 */
-webkit-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
-moz-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);

  -webkit-transform: skew(0deg, 6deg);
  -moz-transform: skew(0deg, 6deg);
  -ms-transform: skew(0deg, 6deg);
  -o-transform: skew(0deg, 6deg);
  transform: skew(0deg, 6deg);
}
#chevron:after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  height: 100%;
  width: 50%;
  
border-right: 1px solid #706516;
border-top: 1px solid #706516;
border-bottom: 1px solid #706516;
background: #ad9d22; /* Old browsers */
background: -moz-linear-gradient(left,  #cccc20 0%, #e8e87d 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(left,  #cccc20 0%,#e8e87d 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to right,  #cccc20 0%,#e8e87d 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ad9d22', endColorstr='#e8e87d',GradientType=1 ); /* IE6-9 */
-webkit-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
-moz-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);

  -webkit-transform: skew(0deg, -6deg);
  -moz-transform: skew(0deg, -6deg);
  -ms-transform: skew(0deg, -6deg);
  -o-transform: skew(0deg, -6deg);
  transform: skew(0deg, -6deg);
}​

</style>
<script type="text/javascript">
		<!--
			function toggle_visibility(id) {
			   var e = document.getElementById(id);
			   if(e.style.display == 'block')
				  e.style.display = 'none';
			   else
				  e.style.display = 'block';
			}
		//-->
</script>

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<h1>
    @Model.EventTitle
</h1>
<h3>
    @Model.EventDate
</h3>
<br />

@foreach (var round in Model.Rounds)
{
    <h2>
        @round.Sequence
        . @round.Scenario
    </h2>

    int iMatchup = 0;
    foreach (var teamMatchup in round.TeamMatchups)
    {
        iMatchup++;
        string siMatchup = "Matchups" + iMatchup;

        <div id="MatchupBar" style="width:500px;">
            <div id="Team1" class="LeftBox @teamMatchup.Team1IsWinner" style="width:250px; height:55px;" onclick="toggle_visibility('@siMatchup');">
                <!--https://en.wikipedia.org/wiki/Flags_of_the_U.S._states-->
                <div id="Team1Flag" style="float:left;
											margin:10px;">
                    <img src="@teamMatchup.Team1ImageURL" alt="@teamMatchup.Team1Name" width=50px height=33px>
                </div>

                <div style="margin:3px;float:right;">
                    @for (var i = 0; i < teamMatchup.Team1Wins; i++)
                    {<div id="chevron">
                    </div> }
                </div>
                <div id="Team1Name" style="margin:18px 0px 0px 0px;
											font-weight:bold;">
                    @teamMatchup.Team1Name
                </div>
            </div>
            <div id="Team2" class="RightBox @teamMatchup.Team2IsWinner" style="width:250px; height:55px;" onclick="toggle_visibility('@iMatchup');">
                <div id="Team2Flag" style="float:right;
											margin:10px;">
                    <img src="@teamMatchup.Team2ImageURL" alt="@teamMatchup.Team2Name" width=50px height=33px>
                </div>
                <div id="Team2Name" style="float:right;margin:18px 0px 0px 0px;
											font-weight:bold;">
                    @teamMatchup.Team2Name
                </div>
                <div style="margin:3px;">
                    @for (var i = 0; i < teamMatchup.Team2Wins; i++)
                    {<div id="chevron">
                    </div> }
                </div>
            </div>
            <div id="@siMatchup" style="clear:both;
									  width:350px;
									  margin:0px 0px 75px 75px;
									  display:none">
            @foreach (var matchup in teamMatchup.Matchups)
        {
                <div id="Matchup">
                    <div id="MatchupPlayer1" class="LeftBox @matchup.Player1IsWinner" style="width:175px">
                        <div id="MatchupPlayer1Faction" style="float:left;
														 margin:3px;">
                            <img src="@matchup.Player1FactionURL" alt="@matchup.Player1Faction" width=33px height=33px
                                 style="float:left;" data-toggle="tooltip" title="@matchup.Player1Caster">
                            <div class="RingLeft" onclick="toggle_visibility('ListDisplay');">
                            </div>
                            <span class="ListLinkLeft" onclick="toggle_visibility('ListDisplay');">
                                @matchup.Player1ListNumber
                            </span>
                        </div>
                        <div id="MatchupPlayer1Name" style="margin:10px 0px 0px 0px;
											font-weight:bold;">
                            @matchup.Player1Name
                        </div>
                    </div>
                    <div id="MatchupPlayer2" class="RightBox @matchup.Player2IsWinner" style="width:175px">
                        <div id="MatchupPlayer2Faction" style="float:right;
																margin:3px;">
                            <img src="@matchup.Player2FactionURL" alt="@matchup.Player2Faction" width=33px height=33px
                                 style="float:Right;" data-toggle="tooltip" title="@matchup.Player2Caster">

                            <div class="RingRight" onclick="toggle_visibility('ListDisplay');">
                            </div>
                            <span class="ListLinkRight" onclick="toggle_visibility('ListDisplay');">
                                @matchup.Player2ListNumber
                            </span>
                        </div>
                        <div id="MatchupPlayer2Name" style="float:right;margin:10px 0px 0px 0px;
											font-weight:bold;">
                            @matchup.Player2Name
                        </div>
                    </div>
                </div>
            }

            </div>
        </div>
    }
}


