@model WMATC.ViewModels.Standings

@Styles.Render("~/Content/css")
@Scripts.Render("~/bundles/modernizr")

@{
    ViewBag.Title = "Index";
}

<style>
    div.MatchupBar {
        margin: 5px;
    }

    div.ShadowBox {
        border-radius: 10px;
        -webkit-box-shadow: 10px 10px 5px 0px rgba(0,0,0,0.75);
        -moz-box-shadow: 10px 10px 5px 0px rgba(0,0,0,0.75);
        box-shadow: 10px 10px 5px 0px rgba(0,0,0,0.75);
    }

    div.littleShadow {
        border-radius: 10px;
        -webkit-box-shadow: 3px 3px 5px 0px rgba(0,0,0,0.75);
        -moz-box-shadow: 3px 3px 5px 0px rgba(0,0,0,0.75);
        box-shadow: 3px 3px 5px 0px rgba(0,0,0,0.75);
    }

    div.Box {
        border-radius: 10px;
        border-bottom: 2px solid gray;
        border-left: 2px solid gray;
        border-right: 2px solid gray;
        border-top: 2px solid gray;
    }

    div.BlankBackgroundPlayer {
        background: #e5e5f5; /* Old browsers */
        background: -moz-linear-gradient(45deg, #e5e5e5 0%, #aaaaba 59%, #777787 59%, #444454 100%); /* FF3.6-15 */
        background: -webkit-linear-gradient(45deg, #e5e5e5 0%,#aaaaba 59%,#777787 59%,#444454 100%); /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(225deg, #e5e5e5 0%,#aaaaba 59%,#777787 59%,#444454 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e5e5f5', endColorstr='#ff3242',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
    }

    div.BlankBackground {
        background: #e5e5e5; /* Old browsers */
        background: -moz-linear-gradient(45deg, #e5e5e5 0%, #aaaaaa 59%, #777777 59%, #444444 100%); /* FF3.6-15 */
        background: -webkit-linear-gradient(45deg, #e5e5e5 0%,#aaaaaa 59%,#777777 59%,#444444 100%); /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(225deg, #e5e5e5 0%,#aaaaaa 59%,#777777 59%,#444444 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e5e5e5', endColorstr='#ff3232',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
        width: 500px;
        height: 55px;
    }

    div.WinnerBackground {
        background: #e5e5e5; /* Old browsers */
        background: -moz-linear-gradient(45deg, #e5f5e5 0%, #aabaaa 59%, #778777 59%, #445444 100%); /* FF3.6-15 */
        background: -webkit-linear-gradient(45deg, #e5f5e5 0%,#aabaaa 59%,#778777 59%,#445444 100%); /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(225deg, #e5f5e5 0%,#aabaaa 59%,#778777 59%,#445444 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e5e5e5', endColorstr='#ff3232',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
        width: 500px;
        height: 55px;
    }

    div.WinnerBackground_old {
        background: #e5e5e5; /* Old browsers */
        background: -moz-linear-gradient(45deg, #e5e5e5 0%, #9dff96 59%, #63ff75 59%, #4eff32 100%); /* FF3.6-15 */
        background: -webkit-linear-gradient(45deg, #e5e5e5 0%,#9dff96 59%,#63ff75 59%,#4eff32 100%); /* Chrome10-25,Safari5.1-6 */
        background: linear-gradient(225deg, #e5e5e5 0%,#9dff96 59%,#63ff75 59%,#4eff32 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e5e5e5', endColorstr='#4eff32',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */
        width: 500px;
        height: 55px;
    }

    #chevron {
        position: relative;
        text-align: center;
        padding: 1px;
        margin-bottom: 3px;
        height: 6px;
        width: 20px;
    }

        #chevron:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 51%;
            border-left: 1px solid #706516;
            border-top: 1px solid #706516;
            border-bottom: 1px solid #706516;
            background: #ad9d22; /* Old browsers */
            background: -moz-linear-gradient(left, #ad9d22 55%, #28d3cd 100%); /* FF3.6-15 */
            background: -webkit-linear-gradient(left, #ad9d22 55%,#28d3cd 100%); /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(to right, #ad9d22 55%,#28d3cd 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ad9d22', endColorstr='#e8e87d',GradientType=1 ); /* IE6-9 */
            -webkit-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
            -moz-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
            box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
            -webkit-transform: skew(0deg, 6deg);
            -moz-transform: skew(0deg, 6deg);
            -ms-transform: skew(0deg, 6deg);
            -o-transform: skew(0deg, 6deg);
            transform: skew(0deg, 6deg);
        }

        #chevron:after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            height: 100%;
            width: 50%;
            border-right: 1px solid #706516;
            border-top: 1px solid #706516;
            border-bottom: 1px solid #706516;
            background: #ad9d22; /* Old browsers */
            background: -moz-linear-gradient(left, #cccc20 0%, #e8e87d 100%); /* FF3.6-15 */
            background: -webkit-linear-gradient(left, #cccc20 0%,#e8e87d 100%); /* Chrome10-25,Safari5.1-6 */
            background: linear-gradient(to right, #cccc20 0%,#e8e87d 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ad9d22', endColorstr='#e8e87d',GradientType=1 ); /* IE6-9 */
            -webkit-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
            -moz-box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
            box-shadow: 2px 2px 2px 0px rgba(0,0,0,0.75);
            -webkit-transform: skew(0deg, -6deg);
            -moz-transform: skew(0deg, -6deg);
            -ms-transform: skew(0deg, -6deg);
            -o-transform: skew(0deg, -6deg);
            transform: skew(0deg, -6deg);
        }

    div.PlayerName{
        font-weight:bold; 
        white-space:nowrap; 
        max-width:200px; 
        float:left; 
        overflow:hidden;
    }
</style>

<script type="text/javascript">
		<!--
    function toggle_visibility(id) {
		var e = document.getElementById(id);
		if (e.style.display == 'inline-block')
			e.style.display = 'none';
		else
			e.style.display = 'inline-block';
	}
    //-->
</script>


<table>
    <tr>
        <td style="vertical-align:top;"><img src="@Model.EventImageURL" style="height:100px; width:auto;" /></td>
        <td>
            <h1 style="line-height: .125; margin-top:10px;">@Model.EventTitle</h1>
            <hr />
            <h3 style="line-height: .125;">@Model.EventDate.ToShortDateString()</h3>
        </td>
    </tr>
</table>

@{
    string TeamBackground = "";
    int iTeamList = 0;
}
@foreach (var team in (from p in Model.Teams orderby p.TeamWins descending, p.StrengthOfSchedule descending, p.TP descending, p.CP descending, p.APD descending select p))
{
    <div>
        <div id="MatchupBar" class="ShadowBox " style="width:500px; height:55px; margin-top:15px;">

            @{TeamBackground = "BlankBackground";
            }
            @if (team.TeamWins == Model.CurrentRound) { TeamBackground = "WinnerBackground"; }

            <div id="Team1" class="Box @TeamBackground" onclick="toggle_visibility('@iTeamList');">
                <div id="Team1Flag" style="float:left;margin:10px;">
                    <img src="@team.TeamImageURL" alt="@team.TeamName" style="width:auto; height:33px">
                </div>

                <div style="margin:1px 27px 3px 0px;float:right;">
                    <div style="float:left; margin:0px 5px 0px 5px; vertical-align:top; width:23px;">
                        <span style="font-size:8pt;">Wins</span>
                        <span style="font-size:30px;">@team.TeamWins </span>
                    </div>
                    <div style="float:left; min-width:20px; margin:2px 5px 0px 5px;">
                        @for (var i = 0; i < team.TeamWins; i++)
                        {<div id="chevron"></div> }
                    </div>
                    <div style="float:left; margin:0px 5px 0px 5px; vertical-align:top; width:20px;">
                        <span style="font-size:8pt;">SoS</span>
                        <span style="font-size:25px;">@team.StrengthOfSchedule </span>
                    </div>
                    <div style="float:left; margin:0px 5px 0px 5px; vertical-align:top; width:20px;">
                        <span style="font-size:8pt;">TP</span>
                        <span style="font-size:20px;line-height:31px;">@team.TP </span>
                    </div>
                    <div style="float:left; margin:0px 5px 0px 5px; vertical-align:top; width:20px;">
                        <span style="font-size:8pt;">CP</span>
                        <span style="font-size:15px;line-height:25px;">@team.CP </span>
                    </div>
                    <div style="float:left; margin:0px 5px 0px 5px; vertical-align:top; width:20px;">
                        <span style="font-size:8pt;">APD</span>
                        <span style="font-size:12px;line-height:24px;">@team.APD </span>
                    </div>
                </div>
                <div id="TeamName" style="margin:18px 0px 0px 0px;font-weight:bold; color:#eeeeee; text-shadow: 0px 0px 3px #000000;">
                    @team.TeamName
                </div>
            </div>
        </div>

        <div id="@iTeamList" style="clear:both;
									  width:350px;
									  margin: 5px 0px 0px 75px;
									  display:none">
            @foreach (var player in (from p in team.Players orderby p.TP descending, p.StrengthOfSchedule descending, p.CP descending , p.APD descending select p).ToList() )
            {
                <div class="littleShadow Box BlankBackgroundPlayer" style="height:43px; width:350px; margin-bottom:4px;">
                    <img src="@player.FactionImageURL" alt="@player.Faction" style="float:left; width:32px; height:32px; margin:3px;" data-toggle="tooltip" title="@player.Faction">
                    <div style="float:left; color:#eeeeee; text-shadow: 0px 0px 3px #000000;">
                        <div class="PlayerName" data-toggle="tooltip" title="@player.Name">@player.Name</div>
                    </div>
                    <div style="float:right;">
                        <div style="float:left;margin:3px;">@player.TP</div>
                        <div style="float:left;margin:3px;">@player.StrengthOfSchedule</div>
                        <div style="float:left;margin:3px;">@player.CP</div>
                        <div style="float:left;margin:3px;">@player.APD</div>
                    </div>
                </div>
            }
            @{ iTeamList += 1;}
        </div>
    </div>

                }























